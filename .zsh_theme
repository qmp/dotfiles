autoload -U colors
colors

setopt promptsubst
autoload -Uz vcs_info
zstyle ':vcs_info:*' stagedstr '%F{green}●'
zstyle ':vcs_info:*' unstagedstr '%F{yellow}●'
zstyle ':vcs_info:*' check-for-changes true
source ~/.zsh_color
precmd () {
	if [[ -z $(git ls-files --other --exclude-standard 2> /dev/null) ]] {
		zstyle ':vcs_info:*' formats ' %F{green}(%b%c%u%F{green})'
	} else {
		zstyle ':vcs_info:*' formats ' %F{green}(%b%c%u%F{red}●%F{green})'
	}
	vcs_info
}
PROMPT='%F{$user_color}░%c${vcs_info_msg_0_}%F{$user_color}» %{$reset_color%}'
